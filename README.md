# shit-log

ä¸€ä¸ªç®€å•çš„å‘½ä»¤è¡Œæ—¥å¿—å·¥å…·ï¼Œä½¿ç”¨ TypeScript å¼€å‘ã€‚

## å®‰è£…

```bash
npm install -g shit-log
```

## ä½¿ç”¨

### æ·»åŠ æ—¥å¿—è®°å½•

```bash
shit-log add "è¿™æ˜¯ä¸€æ¡æ—¥å¿—æ¶ˆæ¯"
shit-log add "è¿™æ˜¯ä¸€æ¡é”™è¯¯æ—¥å¿—" --type error
```

### æŸ¥çœ‹æ—¥å¿—è®°å½•

```bash
# æŸ¥çœ‹æœ€è¿‘ 10 æ¡è®°å½•
shit-log list

# æŸ¥çœ‹æœ€è¿‘ 20 æ¡è®°å½•
shit-log list --number 20
```

### æ¸…ç©ºæ—¥å¿—è®°å½•

```bash
shit-log clear
```

### Git é¡¹ç›®åˆ†æ

åˆ†æ Git é¡¹ç›®çš„æäº¤è®°å½•ï¼ŒåŒ…æ‹¬æäº¤è¯¦æƒ…å’Œä¿®æ”¹çš„æ–‡ä»¶åˆ—è¡¨ã€‚

```bash
# åˆ†ææŒ‡å®šç›®å½•çš„é¡¹ç›®ï¼ˆå¿…å¡«å‚æ•°ï¼‰
shit-log analysis --dir /path/to/project

# åˆ†ææŒ‡å®šæ—¥æœŸçš„æäº¤
shit-log analysis --dir . --date 2023-12-01

# åˆ†ææ—¥æœŸåŒºé—´çš„æäº¤
shit-log analysis --dir . --date "2023-12-01..2023-12-31"

# åˆ†ææŒ‡å®šåˆ†æ”¯çš„æäº¤
shit-log analysis --dir . --branch develop

# åˆ†ææŒ‡å®šä½œè€…çš„æäº¤
shit-log analysis --dir . --author "å¼ ä¸‰"

# è¾“å‡ºçº¯æ–‡æœ¬æ ¼å¼ï¼ˆé€‚åˆå¤åˆ¶ç»™å¤§æ¨¡å‹å¤„ç†ï¼‰
shit-log analysis --dir . --output-plain

# ç»¼åˆä½¿ç”¨å„ç§å‚æ•°
shit-log analysis --dir /path/to/project --date "2023-12-01..2023-12-31" --branch main --author "æå››" --output-plain
```

**å‚æ•°è¯´æ˜ï¼š**

- `--dir <directory>`: é¡¹ç›®ç›®å½•è·¯å¾„ï¼ˆå¿…å¡«ï¼‰
- `--date <date>`: ç­›é€‰æ—¥æœŸï¼Œæ”¯æŒå•ä¸€æ—¥æœŸ (YYYY-MM-DD) æˆ–æ—¥æœŸåŒºé—´ (YYYY-MM-DD..YYYY-MM-DD)ï¼Œé»˜è®¤ä¸ºå½“å¤©
- `--branch <branch>`: ç­›é€‰åˆ†æ”¯åï¼Œé»˜è®¤ä¸ºå½“å‰åˆ†æ”¯
- `--author <author>`: ç­›é€‰ä½œè€…åï¼Œé»˜è®¤ä¸ºå½“å‰ git ç”¨æˆ·
- `--output-plain`: è¾“å‡ºçº¯æ–‡æœ¬æ ¼å¼ï¼Œæ–¹ä¾¿å¤åˆ¶ç»™å¤§æ¨¡å‹è¿›è¡Œåˆ†æ

**è¾“å‡ºå†…å®¹åŒ…æ‹¬ï¼š**

- æäº¤ Hash
- æäº¤æ—¥æœŸæ—¶é—´
- ä½œè€…ä¿¡æ¯ï¼ˆå§“åå’Œé‚®ç®±ï¼‰
- åˆ†æ”¯åç§°
- æäº¤æ¶ˆæ¯
- ä¿®æ”¹çš„æ–‡ä»¶åˆ—è¡¨
- ç»Ÿè®¡ä¿¡æ¯ï¼ˆæ€»æäº¤æ•°ã€æ¶‰åŠä½œè€…æ•°ã€ä¿®æ”¹æ–‡ä»¶æ•°ï¼‰
- **Token æ•°ä¼°ç®—**ï¼šä¼°ç®—å†…å®¹çš„ token æ•°é‡ï¼Œä¾¿äºåˆ¤æ–­æ˜¯å¦é€‚åˆå¤§æ¨¡å‹å¤„ç†
- **æ™ºèƒ½æç¤º**ï¼šæ ¹æ® token æ•°é‡æä¾›ä½¿ç”¨å»ºè®®

**Token ä¼°ç®—åŠŸèƒ½ï¼š**

- ğŸ¤– è‡ªåŠ¨ä¼°ç®—å†…å®¹çš„ token æ•°é‡ï¼ˆè€ƒè™‘ä¸­è‹±æ–‡å·®å¼‚ï¼‰
- ğŸ“„ æ˜¾ç¤ºå†…å®¹å­—ç¬¦æ•°
- âš ï¸ æ ¹æ® token æ•°é‡ç»™å‡ºä½¿ç”¨å»ºè®®ï¼š
  - < 4K tokens: å¤§éƒ¨åˆ†æ¨¡å‹éƒ½å¯å¤„ç†
  - 4K-16K tokens: é€‚åˆä¸»æµå¤§æ¨¡å‹ (GPT-3.5, GPT-4, Claude)
  - 16K-32K tokens: éœ€è¦æ”¯æŒé•¿ä¸Šä¸‹æ–‡çš„æ¨¡å‹
  - \> 32K tokens: å»ºè®®åˆ†æ‰¹å¤„ç†æˆ–ç¼©å°æ—¥æœŸèŒƒå›´

### æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯

```bash
shit-log --version
```

### æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯

```bash
shit-log --help

# æŸ¥çœ‹ç‰¹å®šå‘½ä»¤çš„å¸®åŠ©
shit-log analysis --help
```

## å¼€å‘

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¼€å‘æ¨¡å¼

```bash
npm run dev
```

### æ„å»º

```bash
npm run build
```

### å‘å¸ƒ

```bash
npm publish
```

## ä¾èµ–

- [commander](https://github.com/tj/commander.js/) - CLI æ¡†æ¶
- [simple-git](https://github.com/steveukx/git-js) - Git æ“ä½œåº“
- [dayjs](https://github.com/iamkun/dayjs) - æ—¥æœŸå¤„ç†åº“

## è®¸å¯è¯

MIT
